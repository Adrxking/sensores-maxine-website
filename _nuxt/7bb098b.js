(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{460:function(t,e,l){"use strict";var n=l(3),o=l(56),c=l(461),r=l(269),d=l(7),v=1..toFixed,f=Math.floor,m=function(t,e,l){return 0===e?l:e%2==1?m(t,e-1,l*t):m(t*t,e/2,l)};n({target:"Number",proto:!0,forced:v&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!d((function(){v.call({})}))},{toFixed:function(t){var e,l,n,d,v=c(this),h=o(t),data=[0,0,0,0,0,0],C="",x="0",_=function(t,e){for(var l=-1,n=e;++l<6;)n+=t*data[l],data[l]=n%1e7,n=f(n/1e7)},w=function(t){for(var e=6,l=0;--e>=0;)l+=data[e],data[e]=f(l/t),l=l%t*1e7},y=function(){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=String(data[t]);s=""===s?e:s+r.call("0",7-e.length)+e}return s};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(v!=v)return"NaN";if(v<=-1e21||v>=1e21)return String(v);if(v<0&&(C="-",v=-v),v>1e-21)if(l=(e=function(t){for(var e=0,l=t;l>=4096;)e+=12,l/=4096;for(;l>=2;)e+=1,l/=2;return e}(v*m(2,69,1))-69)<0?v*m(2,-e,1):v/m(2,e,1),l*=4503599627370496,(e=52-e)>0){for(_(0,l),n=h;n>=7;)_(1e7,0),n-=7;for(_(m(10,n,1),0),n=e-1;n>=23;)w(1<<23),n-=23;w(1<<n),_(1,1),w(2),x=y()}else _(0,l),_(1<<-e,0),x=y()+r.call("0",h);return x=h>0?C+((d=x.length)<=h?"0."+r.call("0",h-d)+x:x.slice(0,d-h)+"."+x.slice(d-h)):C+x}})},461:function(t,e,l){var n=l(43);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},462:function(t,e,l){"use strict";l.r(e);l(91),l(44),l(26),l(460),l(45),l(36);var n={name:"Rtnumberchart",props:["config"],data:function(){return{receivedTime:0,value:0,time:Date.now(),nowTime:Date.now(),isMounted:!1,topic:"",chartOptions:{credits:{enabled:!1},chart:{renderTo:"container",defaultSeriesType:"line",backgroundColor:"rgba(0,0,0,0)"},title:{text:""},xAxis:{type:"datetime",labels:{style:{color:"#d4d2d2"}}},yAxis:{title:{text:""},labels:{style:{color:"#d4d2d2",font:"11px Trebuchet MS, Verdana, sans-serif"}}},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:[{name:"",data:[],color:"#e14eca"}],legend:{itemStyle:{color:"#d4d2d2"}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}}},watch:{config:{immediate:!0,deep:!0,handler:function(){var t=this;setTimeout((function(){t.value=0,t.$nuxt.$off("".concat(t.topic,"/sdata")),t.topic="".concat(t.config.userId,"/").concat(t.config.selectedDevice.dId,"/").concat(t.config.variable),t.$nuxt.$on("".concat(t.topic,"/sdata"),t.procesReceivedData),t.chartOptions.series[0].data=[],t.getChartData(),t.chartOptions.series[0].name="".concat(t.config.variableFullName," ").concat(t.config.unit),t.updateColorClass(),window.dispatchEvent(new Event("resize"))}),300)}}},mounted:function(){this.getNow(),this.updateColorClass()},beforeDestroy:function(){this.$nuxt.$off("".concat(this.topic,"/sdata"))},methods:{updateColorClass:function(){console.log("update".concat(this.config.class));var t=this.config.class;"success"===t&&(this.chartOptions.series[0].color="#00f2c3"),"primary"===t&&(this.chartOptions.series[0].color="#e14eca"),"warning"===t&&(this.chartOptions.series[0].color="#ff8d72"),"danger"===t&&(this.chartOptions.series[0].color="#fd5d93"),this.chartOptions.series[0].name="".concat(this.config.variableFullName," ").concat(this.config.unit)},getChartData:function(){var t=this;if(this.config.demo)return this.chartOptions.series[0].data=[[1606659071668,22],[1606659072668,27],[1606659073668,32],[1606659074668,7]],void(this.isMounted=!0);var e={headers:{token:$nuxt.$store.state.auth.token},params:{dId:this.config.selectedDevice.dId,variable:this.config.variable,chartTimeAgo:this.config.chartTimeAgo}};this.$axios.get("/get-small-charts-data",e).then((function(e){t.chartOptions.series[0].data=[];var data=e.data.data;console.log(e.data),data.forEach((function(element){var e=[];e.push(element.time+60*(new Date).getTimezoneOffset()*1e3*-1),e.push(element.value),t.chartOptions.series[0].data.push(e)})),t.isMounted=!0})).catch((function(t){console.log(t)}))},getIconColorClass:function(){return"success"===this.config.class?"text-success":"primary"===this.config.class?"text-primary":"warning"===this.config.class?"text-warning":"danger"===this.config.class?"text-danger":""},procesReceivedData:function(data){var t=this;try{this.time=Date.now(),this.value=data.value,setTimeout((function(){1===data.save&&t.getChartData()}),1e3)}catch(t){console.log(t)}},getNow:function(){var t=this;this.nowTime=Date.now(),setTimeout((function(){t.getNow()}),1e3)},getTimeAgo:function(t){return t<0&&(t=0),t<59?"".concat(t.toFixed()," secs"):t>59&&t<=3600?"".concat((t/=60).toFixed()," min"):t>3600&&t<=86400?"".concat((t/=3600).toFixed()," hour"):t>86400?"".concat((t/=86400).toFixed()," day"):""}}},o=l(1),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("card",{attrs:{type:"chart"}},[l("template",{slot:"header"},[l("h5",{staticClass:"card-category pull-right"},[t._v("\n      "+t._s(t.getTimeAgo((t.nowTime-t.time)/1e3))+" ago\n    ")]),t._v(" "),l("h5",{staticClass:"card-category"},[t._v("\n      "+t._s(t.config.selectedDevice.name)+" - "+t._s(t.config.variableFullName)+"\n    ")]),t._v(" "),l("h3",{staticClass:"card-title"},[l("i",{staticClass:"fa",class:[t.config.icon,t.getIconColorClass()],staticStyle:{"font-size":"30px"},attrs:{"aria-hidden":"true"}}),t._v(" "),l("span",[t._v("\n        "+t._s(t.value.toFixed(t.config.decimalPlaces))+" "+t._s(t.config.unit)+"\n      ")])])]),t._v(" "),l("div",{staticClass:"chart-area",staticStyle:{height:"300px"}},[t.isMounted?l("highchart",{staticStyle:{height:"100%"},attrs:{options:t.chartOptions}}):t._e()],1)],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Card:l(72).default})},463:function(t,e,l){"use strict";l.r(e);var n={name:"iotswitch",props:["config"],data:function(){return{value:!0}},watch:{config:{immediate:!0,deep:!0,handler:function(){}}},mounted:function(){},beforeDestroy:function(){},methods:{getIconColorClass:function(){return this.value?"success"==this.config.class?"text-success":"primary"==this.config.class?"text-primary":"warning"==this.config.class?"text-warning":"danger"==this.config.class?"text-danger":void 0:"text-dark"},sendValue:function(){var t={topic:this.config.userId+"/"+this.config.selectedDevice.dId+"/"+this.config.variable+"/actdata",msg:{value:this.value}};$nuxt.$emit("mqtt-sender",t)}}},o=l(1),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("card",[l("template",{slot:"header"},[l("h5",{staticClass:"card-category"},[t._v(" "+t._s(t.config.selectedDevice.name)+" - "+t._s(t.config.variableFullName))]),t._v(" "),l("h3",{staticClass:"card-title"},[l("i",{staticClass:"fa ",class:[t.config.icon,t.getIconColorClass()],staticStyle:{"font-size":"30px"},attrs:{"aria-hidden":"true"}}),t._v(" "),l("base-switch",{staticClass:"pull-right",staticStyle:{"margin-top":"10px"},attrs:{value:t.value,type:"primary","on-text":"ON","off-text":"OFF"},on:{click:function(e){t.value=!t.value,t.sendValue()}}})],1)])],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseSwitch:l(165).default,Card:l(72).default})},464:function(t,e,l){"use strict";l.r(e);l(36);var n={props:["config"],data:function(){return{sending:!1}},mounted:function(){},methods:{sendValue:function(){var t=this;this.sending=!0,setTimeout((function(){t.sending=!1}),500);var e={topic:this.config.userId+"/"+this.config.selectedDevice.dId+"/"+this.config.variable+"/actdata",msg:{value:this.config.message}};console.log(e),this.$nuxt.$emit("mqtt-sender",e)},getIconColorClass:function(){return this.sending?"success"==this.config.class?"text-success":"primary"==this.config.class?"text-primary":"warning"==this.config.class?"text-warning":"danger"==this.config.class?"text-danger":void 0:"text-dark"}}},o=l(1),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("card",[l("div",{attrs:{slot:"header"},slot:"header"},[l("h4",{staticClass:"card-title"},[t._v("\n      "+t._s(t.config.selectedDevice.name)+" - "+t._s(t.config.variableFullName)+"\n    ")])]),t._v(" "),l("i",{staticClass:"fa ",class:[t.config.icon,t.getIconColorClass()],staticStyle:{"font-size":"30px"}}),t._v(" "),l("base-button",{staticClass:"mb-3 pull-right",attrs:{type:t.config.class,size:"lg"},on:{click:function(e){return t.sendValue()}}},[t._v(t._s(t.config.text))])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseButton:l(73).default,Card:l(72).default})},465:function(t,e,l){"use strict";l.r(e);l(36);var n={props:["config"],data:function(){return{value:!1,topic:"",props:["config"]}},watch:{config:{immediate:!0,deep:!0,handler:function(){var t=this;setTimeout((function(){t.value=!1,t.$nuxt.$off(t.topic);var e=t.config.userId+"/"+t.config.selectedDevice.dId+"/"+t.config.variable+"/sdata";t.$nuxt.$on(e,t.processReceivedData)}),300)}}},mounted:function(){var t=this.config.userId+"/"+this.config.selectedDevice.dId+"/"+this.config.variable+"/sdata";this.$nuxt.$on(t,this.processReceivedData)},beforeDestroy:function(){this.$nuxt.$off(this.topic)},methods:{processReceivedData:function(data){try{console.log("received"),console.log(data),this.value=data.value}catch(t){console.log(t)}},getIconColorClass:function(){return this.value?"success"==this.config.class?"text-success":"primary"==this.config.class?"text-primary":"warning"==this.config.class?"text-warning":"danger"==this.config.class?"text-danger":void 0:"text-dark"}}},o=l(1),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("card",[l("div",{attrs:{slot:"header"},slot:"header"},[l("h4",{staticClass:"card-title"},[t._v("\n      "+t._s(t.config.selectedDevice.name)+" - "+t._s(t.config.variableFullName)+"\n    ")])]),t._v(" "),l("i",{staticClass:"fa ",class:[t.config.icon,t.getIconColorClass()],staticStyle:{"font-size":"30px"}})])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Card:l(72).default})},492:function(t,e,l){"use strict";l.r(e);l(170),l(26),l(31);var n,o=l(6),c=l(18),r=(l(267),l(42),l(119)),d=l.n(r),v=(l(268),l(122)),f=l.n(v),m=(l(456),l(457)),h=l.n(m),C=(l(458),l(459)),x=l.n(C),_={middleware:"authenticated",components:(n={},Object(c.a)(n,x.a.name,x.a),Object(c.a)(n,h.a.name,h.a),Object(c.a)(n,f.a.name,f.a),Object(c.a)(n,d.a.name,d.a),n),data:function(){return{widgets:[],templates:[],widgetType:"",templateName:"",templateDescription:"",ncConfig:{userId:"sampleuserid",selectedDevice:{name:"Home",dId:"8888"},variableFullName:"temperature",variable:"varname",variableType:"input",variableSendFreq:"30",unit:"Watts",class:"success",column:"col-12",decimalPlaces:2,widget:"numberchart",icon:"fa-sun",chartTimeAgo:60,demo:!0},iotSwitchConfig:{userId:"userid",selectedDevice:{name:"Home",dId:"8888"},variableFullName:"Luz",variable:"varname",variableType:"output",class:"danger",widget:"switch",icon:"fa-bath",column:"col-6"},iotIndicatorConfig:{userId:"userid",selectedDevice:{name:"Home",dId:"8888"},variableFullName:"temperature",variable:"varname",variableType:"input",variableSendFreq:"30",class:"success",widget:"indicator",icon:"fa-bath",column:"col-6"},configButton:{userId:"userid",selectedDevice:{name:"Home",dId:"8888",templateName:"Power Sensor",templateId:"984237562348756ldksjfh",saverRule:!1},variableFullName:"Pump",variable:"var1",variableType:"output",icon:"fa-sun",column:"col-4",widget:"button",class:"danger",message:"{'fanstatus': 'stop'}"}}},mounted:function(){this.getTemplates()},methods:{getTemplates:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var l,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{token:t.$store.state.auth.token}},e.prev=1,e.next=4,t.$axios.get("/template",l);case 4:n=e.sent,console.log(n.data),"success"===n.data.status&&(t.templates=n.data.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$notify({type:"danger",icon:"tim-icons icon-alert-circle-exc",message:"Error getting templates..."}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},saveTemplate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var l,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{token:t.$store.state.auth.token}},console.log(l),n={template:{name:t.templateName,description:t.templateDescription,widgets:t.widgets}},e.prev=3,e.next=6,t.$axios.post("/template",n,l);case 6:"success"===e.sent.data.status&&(t.$notify({type:"success",icon:"tim-icons icon-alert-circle-exc",message:"Template created!"}),t.getTemplates(),t.widgets=[]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),t.$notify({type:"danger",icon:"tim-icons icon-alert-circle-exc",message:"Error creating template..."}),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},deleteTemplate:function(template){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var l,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{token:t.$store.state.auth.token},params:{templateId:template._id}},console.log(l),e.prev=2,e.next=5,t.$axios.delete("/template",l);case 5:if(n=e.sent,console.log(n.data),"fail"!==n.data.status||"template in use"!==n.data.error){e.next=10;break}return t.$notify({type:"danger",icon:"tim-icons icon-alert-circle-exc",message:"".concat(template.name," está en uso.\n              Primero elimina los dispositivos linkeados a la plantilla")}),e.abrupt("return");case 10:"success"===n.data.status&&(t.$notify({type:"success",icon:"tim-icons icon-check-2",message:"".concat(template.name," was deleted!")}),t.getTemplates()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t.$notify({type:"danger",icon:"tim-icons icon-alert-circle-exc",message:"Error getting templates..."}),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))()},addNewWidget:function(){"numberchart"===this.widgetType&&(this.ncConfig.variable=this.makeid(10),this.widgets.push(JSON.parse(JSON.stringify(this.ncConfig)))),"switch"===this.widgetType&&(this.iotSwitchConfig.variable=this.makeid(10),this.widgets.push(JSON.parse(JSON.stringify(this.iotSwitchConfig)))),"button"===this.widgetType&&(this.configButton.variable=this.makeid(10),this.widgets.push(JSON.parse(JSON.stringify(this.configButton)))),"indicator"===this.widgetType&&(this.iotIndicatorConfig.variable=this.makeid(10),this.widgets.push(JSON.parse(JSON.stringify(this.iotIndicatorConfig))))},deleteWidget:function(t){this.widgets.splice(t,1)},makeid:function(t){for(var e="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=l.length,i=0;i<t;i+=1)e+=l.charAt(Math.floor(Math.random()*n));return e}}},w=l(1),component=Object(w.a)(_,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"row"},[l("card",[l("div",{attrs:{slot:"header"},slot:"header"},[l("h4",{staticClass:"card-title"},[t._v("\n          Widgets "+t._s(t.iotIndicatorConfig.column)+"\n        ")])]),t._v(" "),l("div",{staticClass:"row"},[l("div",{staticClass:"col-6"},[l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Widget"},model:{value:t.widgetType,callback:function(e){t.widgetType=e},expression:"widgetType"}},[l("el-option",{staticClass:"text-dark",attrs:{value:"numberchart",label:"Number Chart INPUT <-"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"indicator",label:"Boolean Indicator INPUT <-"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"map",label:"Map INPUT <-"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"switch",label:"Switch OUTPUT ->"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"button",label:"Button OUTPUT ->"}})],1),t._v(" "),l("br"),t._v(" "),l("br"),t._v(" "),"numberchart"==t.widgetType?l("div",[l("base-input",{attrs:{label:"Var Name",type:"text"},model:{value:t.ncConfig.variableFullName,callback:function(e){t.$set(t.ncConfig,"variableFullName",e)},expression:"ncConfig.variableFullName"}}),t._v(" "),l("base-input",{attrs:{label:"Unit",type:"text"},model:{value:t.ncConfig.unit,callback:function(e){t.$set(t.ncConfig,"unit",e)},expression:"ncConfig.unit"}}),t._v(" "),l("base-input",{attrs:{label:"Decimal Places",type:"number"},model:{value:t.ncConfig.decimalPlaces,callback:function(e){t.$set(t.ncConfig,"decimalPlaces",t._n(e))},expression:"ncConfig.decimalPlaces"}}),t._v(" "),l("base-input",{attrs:{label:"Icon",type:"text"},model:{value:t.ncConfig.icon,callback:function(e){t.$set(t.ncConfig,"icon",e)},expression:"ncConfig.icon"}}),t._v(" "),l("br"),t._v(" "),l("base-input",{attrs:{label:"Send Freq",type:"number"},model:{value:t.ncConfig.variableSendFreq,callback:function(e){t.$set(t.ncConfig,"variableSendFreq",t._n(e))},expression:"ncConfig.variableSendFreq"}}),t._v(" "),l("br"),t._v(" "),l("base-input",{attrs:{label:"Chart Back Time (mins)",type:"number"},model:{value:t.ncConfig.chartTimeAgo,callback:function(e){t.$set(t.ncConfig,"chartTimeAgo",t._n(e))},expression:"ncConfig.chartTimeAgo"}}),t._v(" "),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Class"},model:{value:t.ncConfig.class,callback:function(e){t.$set(t.ncConfig,"class",e)},expression:"ncConfig.class"}},[l("el-option",{staticClass:"text-success",attrs:{value:"success",label:"Success"}}),t._v(" "),l("el-option",{staticClass:"text-primary",attrs:{value:"primary",label:"Primary"}}),t._v(" "),l("el-option",{staticClass:"text-warning",attrs:{value:"warning",label:"Warning"}}),t._v(" "),l("el-option",{staticClass:"text-danger",attrs:{value:"danger",label:"Danger"}})],1),t._v(" "),l("br"),l("br"),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Column Width"},model:{value:t.ncConfig.column,callback:function(e){t.$set(t.ncConfig,"column",e)},expression:"ncConfig.column"}},[l("el-option",{staticClass:"text-dark",attrs:{value:"col-3",label:"col-3"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-4",label:"col-4"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-5",label:"col-5"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-6",label:"col-6"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-7",label:"col-7"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-8",label:"col-8"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-9",label:"col-9"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-10",label:"col-10"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-11",label:"col-11"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-12",label:"col-12"}})],1),t._v(" "),l("br"),l("br")],1):t._e(),t._v(" "),"switch"==t.widgetType?l("div",[l("base-input",{attrs:{label:"Var Name",type:"text"},model:{value:t.iotSwitchConfig.variableFullName,callback:function(e){t.$set(t.iotSwitchConfig,"variableFullName",e)},expression:"iotSwitchConfig.variableFullName"}}),t._v(" "),l("base-input",{attrs:{label:"Icon",type:"text"},model:{value:t.iotSwitchConfig.icon,callback:function(e){t.$set(t.iotSwitchConfig,"icon",e)},expression:"iotSwitchConfig.icon"}}),t._v(" "),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Class"},model:{value:t.iotSwitchConfig.class,callback:function(e){t.$set(t.iotSwitchConfig,"class",e)},expression:"iotSwitchConfig.class"}},[l("el-option",{staticClass:"text-success",attrs:{value:"success",label:"Success"}}),t._v(" "),l("el-option",{staticClass:"text-primary",attrs:{value:"primary",label:"Primary"}}),t._v(" "),l("el-option",{staticClass:"text-warning",attrs:{value:"warning",label:"Warning"}}),t._v(" "),l("el-option",{staticClass:"text-danger",attrs:{value:"danger",label:"Danger"}})],1),t._v(" "),l("br"),l("br"),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Column Width"},model:{value:t.iotSwitchConfig.column,callback:function(e){t.$set(t.iotSwitchConfig,"column",e)},expression:"iotSwitchConfig.column"}},[l("el-option",{staticClass:"text-dark",attrs:{value:"col-3",label:"col-3"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-4",label:"col-4"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-5",label:"col-5"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-6",label:"col-6"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-7",label:"col-7"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-8",label:"col-8"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-9",label:"col-9"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-10",label:"col-10"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-11",label:"col-11"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-12",label:"col-12"}})],1),t._v(" "),l("br"),l("br")],1):t._e(),t._v(" "),"button"==t.widgetType?l("div",[l("base-input",{attrs:{label:"Var Name",type:"text"},model:{value:t.configButton.variableFullName,callback:function(e){t.$set(t.configButton,"variableFullName",e)},expression:"configButton.variableFullName"}}),t._v(" "),l("base-input",{attrs:{label:"Message to send",type:"text"},model:{value:t.configButton.message,callback:function(e){t.$set(t.configButton,"message",e)},expression:"configButton.message"}}),t._v(" "),l("base-input",{attrs:{label:"Button Text",type:"text"},model:{value:t.configButton.text,callback:function(e){t.$set(t.configButton,"text",e)},expression:"configButton.text"}}),t._v(" "),l("base-input",{attrs:{label:"Icon",type:"text"},model:{value:t.configButton.icon,callback:function(e){t.$set(t.configButton,"icon",e)},expression:"configButton.icon"}}),t._v(" "),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Class"},model:{value:t.configButton.class,callback:function(e){t.$set(t.configButton,"class",e)},expression:"configButton.class"}},[l("el-option",{staticClass:"text-success",attrs:{value:"success",label:"Success"}}),t._v(" "),l("el-option",{staticClass:"text-primary",attrs:{value:"primary",label:"Primary"}}),t._v(" "),l("el-option",{staticClass:"text-warning",attrs:{value:"warning",label:"Warning"}}),t._v(" "),l("el-option",{staticClass:"text-danger",attrs:{value:"danger",label:"Danger"}})],1),t._v(" "),l("br"),l("br"),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Column Width"},model:{value:t.configButton.column,callback:function(e){t.$set(t.configButton,"column",e)},expression:"configButton.column"}},[l("el-option",{staticClass:"text-dark",attrs:{value:"col-3",label:"col-3"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-4",label:"col-4"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-5",label:"col-5"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-6",label:"col-6"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-7",label:"col-7"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-8",label:"col-8"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-9",label:"col-9"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-10",label:"col-10"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-11",label:"col-11"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-12",label:"col-12"}})],1),t._v(" "),l("br"),l("br")],1):t._e(),t._v(" "),"indicator"==t.widgetType?l("div",[l("base-input",{attrs:{label:"Var Name",type:"text"},model:{value:t.iotIndicatorConfig.variableFullName,callback:function(e){t.$set(t.iotIndicatorConfig,"variableFullName",e)},expression:"iotIndicatorConfig.variableFullName"}}),t._v(" "),l("base-input",{attrs:{label:"Icon",type:"text"},model:{value:t.iotIndicatorConfig.icon,callback:function(e){t.$set(t.iotIndicatorConfig,"icon",e)},expression:"iotIndicatorConfig.icon"}}),t._v(" "),l("br"),t._v(" "),l("base-input",{attrs:{label:"Send Freq",type:"text"},model:{value:t.iotIndicatorConfig.variableSendFreq,callback:function(e){t.$set(t.iotIndicatorConfig,"variableSendFreq",e)},expression:"iotIndicatorConfig.variableSendFreq"}}),t._v(" "),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Class"},model:{value:t.iotIndicatorConfig.class,callback:function(e){t.$set(t.iotIndicatorConfig,"class",e)},expression:"iotIndicatorConfig.class"}},[l("el-option",{staticClass:"text-success",attrs:{value:"success",label:"Success"}}),t._v(" "),l("el-option",{staticClass:"text-primary",attrs:{value:"primary",label:"Primary"}}),t._v(" "),l("el-option",{staticClass:"text-warning",attrs:{value:"warning",label:"Warning"}}),t._v(" "),l("el-option",{staticClass:"text-danger",attrs:{value:"danger",label:"Danger"}})],1),t._v(" "),l("br"),l("br"),l("br"),t._v(" "),l("el-select",{staticClass:"select-success",staticStyle:{width:"100%"},attrs:{placeholder:"Select Column Width"},model:{value:t.iotIndicatorConfig.column,callback:function(e){t.$set(t.iotIndicatorConfig,"column",e)},expression:"iotIndicatorConfig.column"}},[l("el-option",{staticClass:"text-dark",attrs:{value:"col-3",label:"col-3"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-4",label:"col-4"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-5",label:"col-5"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-6",label:"col-6"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-7",label:"col-7"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-8",label:"col-8"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-9",label:"col-9"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-10",label:"col-10"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-11",label:"col-11"}}),t._v(" "),l("el-option",{staticClass:"text-dark",attrs:{value:"col-12",label:"col-12"}})],1),t._v(" "),l("br"),l("br")],1):t._e()],1),t._v(" "),l("div",{staticClass:"col-6"},["numberchart"==t.widgetType?l("Rtnumberchart",{attrs:{config:t.ncConfig}}):t._e(),t._v(" "),"switch"==t.widgetType?l("Iotswitch",{attrs:{config:t.iotSwitchConfig}}):t._e(),t._v(" "),"button"==t.widgetType?l("Iotbutton",{attrs:{config:t.configButton}}):t._e(),t._v(" "),"indicator"==t.widgetType?l("Iotindicator",{attrs:{config:t.iotIndicatorConfig}}):t._e()],1)]),t._v(" "),l("div",{staticClass:"row pull-right"},[l("div",{staticClass:"col-12"},[l("base-button",{staticClass:"mb-3",attrs:{"native-type":"submit",type:"primary",size:"lg"},on:{click:function(e){return t.addNewWidget()}}},[t._v("\n            Add Widget\n          ")])],1)])])],1),t._v(" "),l("div",{staticClass:"row"},t._l(t.widgets,(function(e,n){return l("div",{key:n,class:[e.column]},[l("i",{staticClass:"fa fa-trash text-warning pull-right",staticStyle:{"margin-bottom":"10px"},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.deleteWidget(n)}}}),t._v(" "),"numberchart"==e.widget?l("Rtnumberchart",{attrs:{config:e}}):t._e(),t._v(" "),"switch"==e.widget?l("Iotswitch",{attrs:{config:e}}):t._e(),t._v(" "),"button"==e.widget?l("Iotbutton",{attrs:{config:e}}):t._e(),t._v(" "),"indicator"==e.widget?l("Iotindicator",{attrs:{config:e}}):t._e()],1)})),0),t._v(" "),l("div",{staticClass:"row"},[l("card",[l("div",{attrs:{slot:"header"},slot:"header"},[l("h4",{staticClass:"card-title"},[t._v("\n          Guardar plantilla\n        ")])]),t._v(" "),l("div",{staticClass:"row"},[l("base-input",{staticClass:"col-4",attrs:{label:"Template Name",type:"text"},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}}),t._v(" "),l("base-input",{staticClass:"col-8",attrs:{label:"Template Description",type:"text"},model:{value:t.templateDescription,callback:function(e){t.templateDescription=e},expression:"templateDescription"}})],1),t._v(" "),l("br"),l("br"),t._v(" "),l("div",{staticClass:"row"},[l("div",{staticClass:"col-12"},[l("base-button",{staticClass:"mb-3 pull-right",attrs:{"native-type":"submit",type:"primary",size:"lg",disabled:0==t.widgets.length},on:{click:function(e){return t.saveTemplate()}}},[t._v("\n            Guardar plantilla\n          ")])],1)])])],1),t._v(" "),l("div",{staticClass:"row"},[l("card",[l("div",{attrs:{slot:"header"},slot:"header"},[l("h4",{staticClass:"card-title"},[t._v("\n          Plantillas\n        ")])]),t._v(" "),l("div",{staticClass:"row"},[l("el-table",{attrs:{data:t.templates}},[l("el-table-column",{attrs:{"min-width":"50",label:"#",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){e.row;var n=e.$index;return l("div",{staticClass:"photo"},[t._v("\n              "+t._s(n+1)+"\n            ")])}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"Name"}}),t._v(" "),l("el-table-column",{attrs:{prop:"description",label:"Descripción"}}),t._v(" "),l("el-table-column",{attrs:{prop:"widgets.length",label:"Widgets"}}),t._v(" "),l("el-table-column",{attrs:{"header-align":"right",align:"right",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return l("div",{staticClass:"text-right table-actions"},[l("el-tooltip",{attrs:{content:"Delete",effect:"light","open-delay":300,placement:"top"}},[l("base-button",{staticClass:"btn-link",attrs:{type:"danger",icon:"",size:"sm"},on:{click:function(e){return t.deleteTemplate(n)}}},[l("i",{staticClass:"tim-icons icon-simple-remove "})])],1)],1)}}])})],1)],1)])],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseInput:l(74).default,Rtnumberchart:l(462).default,Iotswitch:l(463).default,Iotbutton:l(464).default,Iotindicator:l(465).default,BaseButton:l(73).default,Card:l(72).default})}}]);